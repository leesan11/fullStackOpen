{"version":3,"sources":["components/Filter.js","services/Numbers.js","components/PersonForm.js","components/Persone.js","components/Message.js","App.js","index.js"],"names":["Filter","_ref","setSearch","react_default","a","createElement","onChange","event","target","value","baseURL","Numbers","getAll","axios","get","then","response","data","addNumber","newObject","post","delNumber","id","delete","concat","putNumber","obj","put","PersonForm","persons","newName","newNumber","setPersons","setNewName","setNumber","setMessage","onSubmit","preventDefault","map","person","name","indexOf","NumberService","number","Object","toConsumableArray","setTimeout","catch","error","window","confirm","forEach","filter","objectSpread","type","Persone","newSearch","toLowerCase","key","data-name","data-id","onClick","confirmDelete","dataset","handleDelete","Message","newMessage","style","border","color","textAlign","padding","App","_useState","useState","_useState2","slicedToArray","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","useEffect","_getData","asyncToGenerator","regenerator_default","mark","_callee","allNumbers","wrap","_context","prev","next","sent","stop","apply","this","arguments","console","log","getData","components_Message","components_Filter","components_PersonForm","components_Persone","ReactDOM","render","src_App","document","getElementById"],"mappings":"wMAIeA,EAFA,SAAAC,GAAA,IAAEC,EAAFD,EAAEC,UAAF,OAAkBC,EAAAC,EAAAC,cAAA,gCAAuBF,EAAAC,EAAAC,cAAA,SAAOC,SAAU,SAACC,GAAD,OAAWL,EAAUK,EAAMC,OAAOC,2CCArGC,EAAU,eAsBDC,EAAA,CAACC,OApBD,WAEX,OADgBC,IAAMC,IAAIJ,GACXK,KAAK,SAAAC,GAAQ,OAAIA,EAASC,QAkBrBC,UAfN,SAAAC,GAEd,OADgBN,IAAMO,KAAKV,EAASS,GACrBJ,KAAK,SAAAC,GAAQ,OAAEA,EAASC,QAaRI,UAVjB,SAAAC,GAEd,OADgBT,IAAMU,OAAOb,EAAO,IAAAc,OAAOF,IAC5BP,KAAK,SAAAC,GAAQ,OAAEA,EAASC,QAQGQ,UAL5B,SAACH,EAAII,GAEnB,OADgBb,IAAMc,IAAIjB,EAAO,IAAAc,OAAOF,GAAMI,GAC/BX,KAAK,SAAAC,GAAQ,OAAEA,EAASC,SC+B5BW,EAjDI,SAAA3B,GAAkF,IAAhF4B,EAAgF5B,EAAhF4B,QAASC,EAAuE7B,EAAvE6B,QAASC,EAA8D9B,EAA9D8B,UAAWC,EAAmD/B,EAAnD+B,WAAYC,EAAuChC,EAAvCgC,WAAYC,EAA2BjC,EAA3BiC,UAAWC,EAAgBlC,EAAhBkC,WAoCjF,OAAQhC,EAAAC,EAAAC,cAAA,QAAM+B,SAlCO,SAAC7B,GAElB,GADAA,EAAM8B,kBACoD,IAAvDR,EAAQS,IAAI,SAAAC,GAAM,OAAEA,EAAOC,OAAMC,QAAQX,GAE1CY,EAAcxB,UAAU,CAACsB,KAAKV,EAAQa,OAAOZ,IAAYhB,KAAK,SAAAC,GAC5DgB,EAAU,GAAAR,OAAAoB,OAAAC,EAAA,EAAAD,CAAKf,GAAL,CAAab,KACvBmB,EAAU,SAAAX,OAAUM,IACpBgB,WAAW,kBAAIX,EAAW,KAAI,OAE/BY,MAAM,SAAAC,GAELb,EAAU,GAAAX,OAAIwB,EAAMhC,SAASC,KAAK+B,QAClCF,WAAW,kBAAIX,EAAW,KAAI,YAIhC,GADiBc,OAAOC,QAAP,GAAA1B,OAAkBM,EAAlB,6EACF,CACb,IAAIR,EAAK,GACTO,EAAQsB,QAAQ,SAAAZ,GAAWjB,EAAKiB,EAAOC,OAASV,EAAUS,EAAOjB,GAAGA,IAEpEoB,EAAcjB,UAAUH,EAAI,CAACA,GAAGA,EAAIkB,KAAKV,EAASa,OAAOZ,IACxDhB,KAAK,SAAAC,GACJgB,EAAU,GAAAR,OAAAoB,OAAAC,EAAA,EAAAD,CAAKf,EAAQuB,OAAO,SAAAb,GAAM,OAAEA,EAAOjB,KAAKA,KAAxC,CAAAsB,OAAAS,EAAA,EAAAT,CAAA,GAAiD5B,EAAjD,CAA0DwB,KAAKV,EAAQa,OAAOZ,OACxFI,EAAU,qBAAAX,OAAsBM,IAChCgB,WAAW,kBAAIX,EAAW,KAAI,OAE/BY,MAAM,SAAAC,GACLb,EAAU,kBAAAX,OAAmBM,EAAnB,8CACVgB,WAAW,kBAAIX,EAAW,KAAI,UAOpChC,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SAAOC,SAAU,SAACC,GAAD,OAAS0B,EAAW1B,EAAMC,OAAOC,WAE1DN,EAAAC,EAAAC,cAAA,sBACUF,EAAAC,EAAAC,cAAA,SAAOC,SAAU,SAACC,GAAD,OAAS2B,EAAU3B,EAAMC,OAAOC,WAE3DN,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQiD,KAAK,UAAb,UCpBKC,EAxBC,SAAAtD,GAAkD,IAAhD4B,EAAgD5B,EAAhD4B,QAAS2B,EAAuCvD,EAAvCuD,UAAWxB,EAA4B/B,EAA5B+B,WAAYG,EAAgBlC,EAAhBkC,WAoB9C,OANaN,EAAQuB,OAAO,SAAAb,GAAM,OAA0D,IAApDA,EAAOC,KAAMiB,cAAehB,QAAQe,KAC3DlB,IAAI,SAAAC,GAAM,OAAGpC,EAAAC,EAAAC,cAAA,OAAKqD,IAAKnB,EAAOC,MAAMrC,EAAAC,EAAAC,cAAA,qBAAakC,EAAOC,KAApB,YAAmCD,EAAOI,QAAcxC,EAAAC,EAAAC,cAAA,UAAQsD,YAAWpB,EAAOC,KAAMoB,UAASrB,EAAOjB,GAAIuC,QAAS,SAACtD,GAAD,OAdvJ,SAACA,GACpB,IAAIuD,EAAgBb,OAAOC,QAAQ3C,EAAMC,OAAOuD,QAAQvB,MACpDlB,EAAKf,EAAMC,OAAOuD,QAAQzC,GAC3BwC,GACDpB,EAAcrB,UAAUC,GAAIP,KAAK,SAAAC,GAC/BgB,EAAWH,EAAQuB,OAAO,SAAAb,GAAM,OAAEA,EAAOjB,KAAOA,KAChDa,EAAU,WACNW,WAAW,kBAAIX,EAAW,KAAI,OAO6I6B,CAAazD,KAAnF,cCDlG0D,EAfC,SAAAhE,GAAkB,IAAhBiE,EAAgBjE,EAAhBiE,WAQlB,OACI/D,EAAAC,EAAAC,cAAA,OAAK8D,MARQ,CACTC,OAAO,gBACPC,MAAM,MACNC,UAAU,SACVC,QAAQ,SAKRpE,EAAAC,EAAAC,cAAA,UAAK6D,KC4BEM,EA/BH,WAAM,IAAAC,EACeC,mBAAS,IADxBC,EAAA/B,OAAAgC,EAAA,EAAAhC,CAAA6B,EAAA,GACR5C,EADQ8C,EAAA,GACC3C,EADD2C,EAAA,GAAAE,EAEgBH,mBAAS,IAFzBI,EAAAlC,OAAAgC,EAAA,EAAAhC,CAAAiC,EAAA,GAER/C,EAFQgD,EAAA,GAEC7C,EAFD6C,EAAA,GAAAC,EAGiBL,mBAAS,IAH1BM,EAAApC,OAAAgC,EAAA,EAAAhC,CAAAmC,EAAA,GAGRhD,EAHQiD,EAAA,GAGG9C,EAHH8C,EAAA,GAAAC,EAIiBP,mBAAS,IAJ1BQ,EAAAtC,OAAAgC,EAAA,EAAAhC,CAAAqC,EAAA,GAIRzB,EAJQ0B,EAAA,GAIGhF,EAJHgF,EAAA,GAAAC,EAKmBT,mBAAS,IAL5BU,EAAAxC,OAAAgC,EAAA,EAAAhC,CAAAuC,EAAA,GAKRjB,EALQkB,EAAA,GAKIjD,EALJiD,EAAA,GAiBhB,OATAC,oBAAW,WAAI,SAAAC,IAAA,OAAAA,EAAA1C,OAAA2C,EAAA,EAAA3C,CAAA4C,EAAApF,EAAAqF,KACb,SAAAC,IAAA,IAAAC,EAAA,OAAAH,EAAApF,EAAAwF,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACyBrD,EAAc9B,SADvC,OACM+E,EADNE,EAAAG,KAEIhE,EAAW2D,EAAW9D,SAF1B,wBAAAgE,EAAAI,SAAAP,OADaQ,MAAAC,KAAAC,WAKbC,QAAQC,IAAI,UALC,WAAAhB,EAAAY,MAAAC,KAAAC,WAMbG,IACA,CAACrC,IAGD/D,EAAAC,EAAAC,cAAA,WACG6D,EAAW/D,EAAAC,EAAAC,cAACmG,EAAD,CAAStC,WAAYA,IAAe,KAChD/D,EAAAC,EAAAC,cAAA,uBACEF,EAAAC,EAAAC,cAACoG,EAAD,CAAQvG,UAAWA,IACrBC,EAAAC,EAAAC,cAAA,uBACEF,EAAAC,EAAAC,cAACqG,EAAD,CAAY7E,QAASA,EAASC,QAASA,EAASC,UAAWA,EAAWC,WAAYA,EAChFC,WAAYA,EAAYC,UAAWA,EAAWC,WAAYA,IAC9DhC,EAAAC,EAAAC,cAAA,qBACEF,EAAAC,EAAAC,cAACsG,EAAD,CAAS9E,QAASA,EAAS2B,UAAWA,EAAWxB,WAAYA,EAAYG,WAAYA,MC/B7FyE,IAASC,OAAO1G,EAAAC,EAAAC,cAACyG,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.95e7bd77.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({setSearch}) => (<div>filter shown with <input onChange={(event) => setSearch(event.target.value)} /></div>)\r\n\r\nexport default Filter","import axios from 'axios'\r\n\r\nconst baseURL = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addNumber = newObject => {\r\n    const request = axios.post(baseURL, newObject)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst delNumber = id => {\r\n    const request = axios.delete(baseURL + `/${id}`)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst putNumber = (id, obj) => {\r\n    const request = axios.put(baseURL + `/${id}`, obj)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nexport default {getAll, addNumber, delNumber, putNumber}\r\n","import React from 'react';\r\nimport NumberService from '../services/Numbers'\r\n\r\nconst PersonForm = ({persons, newName, newNumber, setPersons, setNewName, setNumber, setMessage}) => {\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n        if(persons.map(person=>person.name).indexOf(newName) === -1){\r\n          \r\n          NumberService.addNumber({name:newName,number:newNumber}).then(response=>{\r\n            setPersons([...persons,response])\r\n            setMessage(`Added ${newName}`)\r\n            setTimeout(()=>setMessage(''),2000)\r\n          })\r\n          .catch(error=>{\r\n            \r\n            setMessage(`${error.response.data.error}`)\r\n            setTimeout(()=>setMessage(''),2000)\r\n          })\r\n        }else{\r\n          let putConfirm = window.confirm(`${newName} is already added to the phonebook, replace the old number with new one?`)\r\n          if (putConfirm){\r\n            let id = '';\r\n            persons.forEach(person => {id = person.name === newName ? person.id:id});\r\n            \r\n            NumberService.putNumber(id, {id:id, name:newName, number:newNumber})\r\n            .then(response=>{\r\n              setPersons([...persons.filter(person=>person.id!==id), {...response,name:newName,number:newNumber}])\r\n              setMessage(`Changed number of ${newName}`)\r\n              setTimeout(()=>setMessage(''),5000)\r\n            })\r\n            .catch(error=>{\r\n              setMessage(`Information of ${newName} has already been removed from the server`)\r\n              setTimeout(()=>setMessage(''),5000)\r\n            })\r\n          }\r\n        }    \r\n      }\r\n    \r\n    return (<form onSubmit ={handleSubmit}>\r\n        <div>\r\n          name: <input onChange={(event)=>setNewName(event.target.value)} />\r\n        </div>\r\n        <div>\r\n          number: <input onChange={(event)=>setNumber(event.target.value)} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\" >add</button>\r\n        </div>\r\n      </form>)\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\nimport NumberService from '../services/Numbers'\r\n\r\nconst Persone = ({persons, newSearch, setPersons, setMessage}) => {\r\n  const handleDelete = (event) => {\r\n    let confirmDelete = window.confirm(event.target.dataset.name)\r\n    let id = event.target.dataset.id\r\n    if(confirmDelete){\r\n      NumberService.delNumber(id).then(response=>{\r\n        setPersons(persons.filter(person=>person.id !== id))\r\n        setMessage(`Deleted`)\r\n            setTimeout(()=>setMessage(''),2000)\r\n      })\r\n    }\r\n  }\r\n\r\n  const rendPersons = () => {\r\n    let result = persons.filter(person=> (((person.name).toLowerCase()).indexOf(newSearch) !== -1))\r\n    let res = result.map(person=>(<div key={person.name}><span>name: {person.name} number: {person.number}</span><button data-name={person.name} data-id={person.id} onClick={(event)=>handleDelete(event)}>delete</button></div>))\r\n    return res\r\n    \r\n  }\r\n\r\n    return rendPersons()\r\n        \r\n      }\r\n\r\nexport default Persone","import React from 'react'\r\n\r\nconst Message = ({newMessage}) => {\r\n    const style= {\r\n        border:\"2px solid red\",\r\n        color:\"red\",\r\n        textAlign:\"center\",\r\n        padding:\"10px\"\r\n    }\r\n\r\nreturn (\r\n    <div style={style}>\r\n        <h3>{newMessage}</h3>\r\n    </div>\r\n)\r\n}\r\n\r\nexport default Message","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persone from './components/Persone'\r\nimport NumberService from './services/Numbers'\r\nimport Message from './components/Message'\r\n\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNumber ] = useState('')\r\n  const [ newSearch, setSearch ] = useState('')\r\n  const [ newMessage, setMessage ] = useState('')\r\n  \r\n\r\n  useEffect( ()=>{\r\n    async function getData(){\r\n      let allNumbers = await NumberService.getAll()\r\n        setPersons(allNumbers.persons)\r\n    }\r\n    console.log(\"effect\")\r\n    getData()\r\n  },[newMessage])\r\n\r\n  return (\r\n    <div>\r\n      {newMessage?<Message newMessage={newMessage} />:null}\r\n      <h2>Phonebook</h2>\r\n        <Filter setSearch={setSearch}/>\r\n      <h2>Add a new</h2>\r\n        <PersonForm persons={persons} newName={newName} newNumber={newNumber} setPersons={setPersons} \r\n          setNewName={setNewName} setNumber={setNumber} setMessage={setMessage}/>\r\n      <h2>Numbers</h2>\r\n        <Persone persons={persons} newSearch={newSearch} setPersons={setPersons} setMessage={setMessage}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}