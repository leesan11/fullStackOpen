{"version":3,"sources":["components/Filter.js","services/Numbers.js","components/PersonForm.js","components/Persons.js","components/Message.js","App.js","index.js"],"names":["Filter","_ref","setSearch","react_default","a","createElement","onChange","event","target","value","baseURL","Numbers","axios","get","then","response","data","newObject","post","id","delete","concat","obj","put","PersonForm","persons","newName","newNumber","setPersons","setNewName","setNumber","setMessage","onSubmit","preventDefault","map","person","name","indexOf","NumberService","number","Object","toConsumableArray","setTimeout","window","confirm","forEach","filter","objectSpread","catch","error","type","Persons","newSearch","result","toLowerCase","push","res","key","data-name","data-id","onClick","confirmDelete","dataset","handleDelete","console","log","renderPersons","Message","newMessage","style","border","color","textAlign","padding","App","_useState","useState","_useState2","slicedToArray","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","useEffect","allNumbers","components_Message","components_Filter","components_PersonForm","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.bd58025b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({setSearch}) => (<div>filter shown with <input onChange={(event) => setSearch(event.target.value)} /></div>)\r\n\r\nexport default Filter","import axios from 'axios'\r\n\r\nconst baseURL = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst addNumber = newObject => {\r\n    const request = axios.post(baseURL, newObject)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst delNumber = id => {\r\n    const request = axios.delete(baseURL + `/${id}`)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nconst putNumber = (id, obj) => {\r\n    const request = axios.put(baseURL + `/${id}`, obj)\r\n    return request.then(response=>response.data)\r\n}\r\n\r\nexport default {getAll, addNumber, delNumber, putNumber}\r\n","import React from 'react';\r\nimport NumberService from '../services/Numbers'\r\n\r\nconst PersonForm = ({persons, newName, newNumber, setPersons, setNewName, setNumber, setMessage}) => {\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault();\r\n\r\n        if(persons.map(person=>person.name).indexOf(newName) === -1){\r\n          \r\n          NumberService.addNumber({name:newName,number:newNumber}).then(response=>{\r\n            setPersons([...persons,response])\r\n            setMessage(`Added ${newName}`)\r\n            setTimeout(()=>setMessage(''),5000)\r\n          })\r\n        }else{\r\n          let putConfirm = window.confirm(`${newName} is already added to the phonebook, replace the old number with new one?`)\r\n          if (putConfirm){\r\n            let id = '';\r\n            persons.forEach(person => {id = person.name === newName ? person.id:id});\r\n            \r\n            NumberService.putNumber(id, {id:id, name:newName, number:newNumber})\r\n            .then(response=>{\r\n              setPersons([...persons.filter(person=>person.id!==id), {...response,name:newName,number:newNumber}])\r\n              setMessage(`Changed number of ${newName}`)\r\n              setTimeout(()=>setMessage(''),5000)\r\n            })\r\n            .catch(error=>{\r\n              setMessage(`Information of ${newName} has already been removed from the server`)\r\n              setTimeout(()=>setMessage(''),5000)\r\n            })\r\n          }\r\n        }    \r\n      }\r\n    \r\n    return (<form onSubmit ={handleSubmit}>\r\n        <div>\r\n          name: <input onChange={(event)=>setNewName(event.target.value)} />\r\n        </div>\r\n        <div>\r\n          number: <input onChange={(event)=>setNumber(event.target.value)} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\" >add</button>\r\n        </div>\r\n      </form>)\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\nimport NumberService from '../services/Numbers'\r\n\r\nconst Persons = ({persons, newSearch, setPersons}) => {\r\n  const handleDelete = (event) => {\r\n    let confirmDelete = window.confirm(event.target.dataset.name)\r\n    let id = event.target.dataset.id\r\n    if(confirmDelete){\r\n      NumberService.delNumber(id).then(response=>{\r\n        setPersons(persons.filter(person=>person.id !== id))\r\n      })\r\n    }\r\n  }\r\n\r\n  const renderPersons = () => {\r\n    let result = []\r\n    persons.forEach(person=>{\r\n      if(((person.name).toLowerCase()).indexOf(newSearch) !== -1){\r\n        result.push(person)\r\n      }\r\n    })\r\n    // let result = persons.filter(person=> (((person.name).toLowerCase()).indexOf(newSearch) !== -1))\r\n    let res = result.map(person=>(<div key={person.name}><span>name: {person.name} number: {person.number}</span><button data-name={person.name} data-id={person.id} onClick={(event)=>handleDelete(event)}>delete</button></div>))\r\n    console.log(res)\r\n    return res\r\n  }\r\n\r\n    return renderPersons()\r\n        \r\n      }\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Message = ({newMessage}) => {\r\n    const style= {\r\n        border:\"2px solid red\",\r\n        color:\"red\",\r\n        textAlign:\"center\",\r\n        padding:\"10px\"\r\n    }\r\n\r\nreturn (\r\n    <div style={style}>\r\n        <h3>{newMessage}</h3>\r\n    </div>\r\n)\r\n}\r\n\r\nexport default Message","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport NumberService from './services/Numbers'\r\nimport Message from './components/Message'\r\n\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([\r\n    { name: 'Arto Hellas', number: '040-123456' },\r\n    { name: 'Ada Lovelace', number: '39-44-5323523' },\r\n    { name: 'Dan Abramov', number: '12-43-234345' },\r\n    { name: 'Mary Poppendieck', number: '39-23-6423122' }\r\n  ])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNumber ] = useState('')\r\n  const [ newSearch, setSearch ] = useState('')\r\n  const [ newMessage, setMessage ] = useState('')\r\n\r\n  useEffect( ()=>{\r\n    NumberService.getAll().then((allNumbers)=>{\r\n      setPersons(allNumbers)\r\n    })\r\n  },[persons])\r\n\r\n  return (\r\n    <div>\r\n      {newMessage?<Message newMessage={newMessage} />:null}\r\n      <h2>Phonebook</h2>\r\n        <Filter setSearch={setSearch}/>\r\n      <h2>Add a new</h2>\r\n        <PersonForm persons={persons} newName={newName} newNumber={newNumber} setPersons={setPersons} \r\n          setNewName={setNewName} setNumber={setNumber} setMessage={setMessage}/>\r\n      <h2>Numbers</h2>\r\n        <Persons persons={persons} newSearch={newSearch} setPersons={setPersons}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}